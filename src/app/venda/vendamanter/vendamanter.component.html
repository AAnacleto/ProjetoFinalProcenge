<app-layout>
  <!--Card principal-->
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">Venda - Incluir </h5>

      <!--Primeira linha de formulário-->
      <div class="row">
        <div class="form-group col-lg-6">
          <label for="data" class="control-label">Código Venda</label>
          <input type="number" class="form-control" [(ngModel)]="venda.codigo">
        </div>
        <div class="form-group col-lg-6">
          <label for="data" class="control-label">Data:</label>
          <input type="date" class="form-control" [(ngModel)]="venda.data">
        </div>
      </div>

      <!--Segunda linha de formulário Cliente-->
      <div class="row">
        <div class="form-group col-lg-12">
          <label for="cliente" class="control-label">Cliente</label>
          <select class="form-control" [(ngModel)]="venda.cliente">
            <option [ngValue]="null">Selecione</option>
            <option *ngFor="let cliente of listCliente" [ngValue]="cliente"> {{cliente.nome}}</option>
          </select>
        </div>
      </div>

      <!--Card de inclusão de produto-->
      <div class="card" style="background-color: #e9e9e9;">
        <div class="card-body">

          <!--Formulario de produto-->
          <div class="row">
            <div class=" form-group col-lg-4">
              <label for="data" class="control-label">Código Item:</label>
              <input type="number" class="form-control" [(ngModel)]="vendaItem.codigo">
            </div>
            <div class="form-group col-lg-4">
              <label for="data" class="control-label">Produto:</label>
              <select class="form-control" [(ngModel)]="vendaItem.produto">
                <option [ngValue]="null">Selecione</option>
                <option *ngFor="let produto of listProduto" [ngValue]="produto"> {{produto.nome}} -
                  {{produto.valor | currency: "R$"}}</option>
              </select>
            </div>
            <div class="form-group col-lg-4">
              <label for="data" class="control-label">Quantidade:</label>
              <input type="number" class="form-control" [(ngModel)]="vendaItem.quantidade">
            </div>

            <!--Botao adicionar-->
            <div class="row">
              <div class="col-lg-12">
                <button type="button" class="btn btn-primary" style="margin-left: 16px;" (click)="adicionarProduto()"><i
                    class="fa fa-plus"></i> Produto</button>
              </div>
            </div>
          </div>
          <br>

          <!--tabela de produtos do card de inclusão-->
          <div class="row">
            <div class="col-lg-12">
              <table class="table" style="background-color: white;">
                <thead>
                  <tr>
                    <th>Codigo:</th>
                    <th>Produto:</th>
                    <th>Preço</th>
                    <th>Quantidade:</th>
                    <th> </th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let itemVenda of venda.listaVendaitem">
                    <td>{{itemVenda.produto.codigo}}</td>
                    <td>{{itemVenda.produto.nome}}</td>
                    <td>{{itemVenda.produto.valor | currency: "R$"}}</td>
                    <td>{{itemVenda.quantidade}}</td>
                    <td><i class="fa fa-trash" (click)="excluirProduto(itemVenda)"></i></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <br>

      <!--Botões Incluir, Alterar e Voltar-->
      <div class="row">
        <div class="col-lg-12">
          <button type="button" class="btn btn-primary" (click)="incluirVenda()">Incluir</button>
          <button type="button" class="btn btn-primary" style="margin-left: 10px;" (click)="voltar()">Voltar</button>
        </div>
      </div>

      <!--div fechamento do card principal-->
    </div>
  </div>
</app-layout>
